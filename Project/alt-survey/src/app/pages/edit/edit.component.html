<nav
  class="navbar fixed-top navbar-light bg-light"
  style="padding-top: 2rem; padding-bottom: 2rem"
>
  <div class="container-fluid d-flex">
    <div class="logo">
      <img
        src="../assets/images/PeopleStrong_Logo_Final.png"
        width="230px"
        height="40px"
        alt="PeopleStrong_Logo "
      />
    </div>
    <div class="nav-items">
      <ul class="list-items d-flex">
        <li class="list-item">
          <button class="btn" (click)="onHome()">Home</button>
        </li>
        <li class="list-item">
          <button class="btn signup-btn" (click)="onLogout()">Logout</button>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div
  [@myAnimationTriggerForContainer]="state1"
  class="background"
  style="margin-top: 150px"
>
  <div class="bootstrap-wrapper">
    <!-- <div class="back-button">
      <button
        mat-raised-button
        color="primary"
        class="back"
        (click)="moveBack()"
      >
        <i class="bi bi-arrow-left"></i>
        Back
      </button>
    </div> -->
    <div class="container" style="margin-top: 30px">
      <div class="row">
        <div class="col-6">
          <button
            (click)="moveBack()"
            style="background-color: transparent; border: none"
          >
            <i
              style="color: #17089b; font-size: 26px"
              class="bi bi-arrow-left"
            ></i>
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col-6 inner-card">
          <h1 class="header-title">EDIT SURVEY</h1>
          <form *ngIf="load" [formGroup]="editForm">
            <div class="row">
              <div class="col-6">
                <div class="form-heading">
                  <label for="survey-name">Survey Name</label>
                </div>

                <div class="subject-border">
                  <input
                    formControlName="surveyname"
                    name="surveyName"
                    placeholder="Survey Name"
                  />
                  <div
                    *ngIf="
                      editForm.get('surveyname')?.invalid ||
                      editForm.get('surveyname')?.touched
                    "
                  >
                    <small
                      class="text-danger"
                      *ngIf="editForm.value.surveyname === ''"
                      >Survey Name is required</small
                    >
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="form-heading">
                  <label for="sruvey-name">Survey Type</label>
                </div>
                <div class="subject-border">
                  <input
                    required
                    formControlName="survey_type"
                    name="surveyType"
                    placeholder="Survey Type"
                  />
                  <div
                    *ngIf="
                      editForm.get('survey_type')?.invalid ||
                      editForm.get('survey_type')?.touched
                    "
                  >
                    <small
                      class="text-danger"
                      *ngIf="editForm.value.survey_type === ''"
                      >Survey Type is required</small
                    >
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <div class="form-heading">
                  <label for="sruvey-name">Message Subject</label>
                </div>
                <div class="subject-border">
                  <input
                    required
                    formControlName="message_subject"
                    name="Subject"
                    placeholder="Message Subject"
                  />
                  <div
                    *ngIf="
                      editForm.get('message_subject')?.invalid ||
                      editForm.get('message_subject')?.touched
                    "
                  >
                    <small
                      class="text-danger"
                      *ngIf="editForm.value.message_subject === ''"
                      >Message Subject is required</small
                    >
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="form-heading">
                  <label for="survey-name">Delay</label>
                </div>
                <div class="subject-border">
                  <input
                    required
                    type="number"
                    min="0"
                    oninput="this.value=this.value.replace(/[^\d]/,'0')"
                    required
                    formControlName="survey_dealy"
                    name="Delay"
                    placeholder="Delay (No. of Days)"
                  />
                  <div
                    *ngIf="
                      editForm.get('survey_dealy')?.invalid &&
                      editForm.get('survey_dealy')?.touched
                    "
                  >
                    <small class="text-danger">Enter Valid Number</small>
                  </div>
                </div>
              </div>

              <div class="form-heading col">
                <label for="sruvey-name" style="margin-bottom: 20px"
                  >Message Body</label
                >

                <angular-editor
                  required
                  formControlName="message_body"
                  name="MessageBody"
                  [config]="config"
                ></angular-editor>
                <div
                  *ngIf="
                    editForm.get('message_body')?.invalid &&
                    editForm.get('message_body')?.touched
                  "
                >
                  <small
                    class="text-danger"
                    *ngIf="editForm.value.message_body === ''"
                    >Message Body is required</small
                  >
                </div>
              </div>
              <div class="d-flex" style="margin-left: 10px">
                <div style="margin-top: 60px">
                  <button
                    (click)="onSubmitSurvey()"
                    class="save"
                    mat-raised-button
                    color="primary"
                    [disabled]="
                      editForm.value.message_body === '' ||
                      editForm.value.message_subject === '' ||
                      editForm.value.surveyname === '' ||
                      editForm.get('survey_dealy')?.invalid ||
                      editForm.value.survey_type === ''
                    "
                  >
                    Save
                  </button>
                </div>
                <div style="margin-top: 60px; margin-left: 10px">
                  <button
                    (click)="onDeleteSurvey()"
                    class="Delete-btn"
                    mat-raised-button
                    color="primary"
                  >
                    Delete
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div
          class="col-6 image-container d-flex justify-content-center align-items-center"
        >
          <div class="img-container">
            <img
              class="img-fluid"
              src="../../../assets/images/undraw_mobile_posts_re_bpuw.svg"
              alt=""
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
